<!DOCTYPE html>
<html lang="ro">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blacklist Hub</title>
  <style>
    body {
      margin: 0;
      background: #000000;
      font-family: Arial, sans-serif;
      color: #fff;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    #hero-text {
      position: absolute;
      top: 10px;
      font-size: 4em;
      font-weight: bold;
      color: white;
      letter-spacing: 0.1em;
      z-index: 10;
      animation: fadeIn 2s ease forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      to {
        opacity: 0.7;
      }
    }

    #music-demo-canvas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 320px;
      height: 160px;
      opacity: 0.2;
      z-index: 1;
    }

    #movie-demo-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 320px;
      height: 160px;
      z-index: 1;
      /* opacity: 0.8; */
      /* Am scos opacitatea de aici */
    }

    #movie-demo {
      width: 100%;
      height: 100%;
      /* background-color: #00cc66; */
      /* Am scos culoarea de fundal */
      /* Implementează "filmul foto" aici (vezi explicații) */
    }

    canvas {
      width: 100%;
      height: 100%;
    }

    img {
      width: 240px;
      height: auto;
      margin-bottom: 30px;
      margin-top: -50px;
      z-index: 2;
      animation: pulse 4s ease-in-out infinite;
    }

    @keyframes pulse {
      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.85;
      }
    }

    .hub-buttons-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
      z-index: 2;
    }

    .hub-button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      background-color: #00cc66;
      border-radius: 6px;
      color: #fff;
      text-decoration: none;
      margin: 0 10px;
      transition: box-shadow 0.3s ease;
      cursor: pointer;
      border: none;
    }

    .hub-button:hover {
      box-shadow: 0 0 12px #00cc66;
    }

    #created-by {
      position: absolute;
      bottom: 20px;
      font-size: 1.2em;
      font-family: serif;
      color: #aaa;
      opacity: 0;
      animation: fadeIn 5s 2s forwards;
      cursor: pointer;
    }

    @keyframes fadeIn {
      to {
        opacity: 0.5;
      }
    }
  </style>
  <script>
    if (window.location.search) {
      window.history.replaceState({}, document.title, window.location.pathname);
    }

    window.onload = () => {
      const musicCanvas = document.getElementById('music-demo-canvas');
      const musicCtx = musicCanvas.getContext('2d');
      const scale = window.devicePixelRatio || 1;
      musicCanvas.width = 320 * scale;
      musicCanvas.height = 160 * scale;
      musicCtx.scale(scale, scale);

      let musicFrame = 0;
      const musicNodes = [];
      const musicLines = [];

      function addMusicNode(x, y, parent = null, delay = 0) {
        musicNodes.push({
          x,
          y,
          r: 0,
          maxR: 5,
          growth: 0.3,
          delay,
          frame: 0,
          parent
        });
      }

      function addMusicLine(x1, y1, x2, y2, delay = 0) {
        musicLines.push({
          x1,
          y1,
          x2,
          y2,
          progress: 0,
          delay
        });
      }

      function resetMusicDemo() {
        musicNodes.length = 0;
        musicLines.length = 0;
        musicFrame = 0;

        const cx = 160,
          cy = 80;
        addMusicNode(cx, cy);
        const angles1 = [0, 120, 240];
        angles1.forEach((a, i) => {
          const rad = a * Math.PI / 180;
          const x = cx + 40 * Math.cos(rad);
          const y = cy + 40 * Math.sin(rad);
          addMusicNode(x, y, 0, 30 + i * 5);
          addMusicLine(cx, cy, x, y, 30 + i * 5);

        });

        setTimeout(() => {
          const from = musicNodes[1];
          const angles2 = [-30, 30];
          angles2.forEach((a, i) => {
            const rad = a * Math.PI / 180;
            const x = from.x + 30 * Math.cos(rad);
            const y = from.y + 30 * Math.sin(rad);
            addMusicNode(x, y, 1, 100 + i * 5);
            addMusicLine(from.x, from.y, x, y, 100 + i * 5);
          });
        }, 700);
        setTimeout(() => {
          const from = musicNodes[2];
          const angles3 = [60, 120];
          angles3.forEach((a, i) => {
            const rad = a * Math.PI / 180;
            const x = from.x + 30 * Math.cos(rad);
            const y = from.y + 30 * Math.sin(rad);

            addMusicNode(x, y, 2, 160 + i * 5);
            addMusicLine(from.x, from.y, x, y, 160 + i * 5);
          });
        }, 1400);
      }

      function drawMusic() {
        musicCtx.clearRect(0, 0, musicCanvas.width, musicCanvas.height);
        musicCtx.strokeStyle = "#fff";
        musicCtx.fillStyle = "#fff";
        musicCtx.lineWidth = 1;

        musicLines.forEach(line => {
          if (musicFrame < line.delay) return;
          const p = Math.min(1, (musicFrame - line.delay) / 20);
          const x = line.x1 + (line.x2 - line.x1) * p;
          const y = line.y1 + (line.y2 - line.y1) * p;
          musicCtx.beginPath();

          musicCtx.moveTo(line.x1, line.y1);
          musicCtx.lineTo(x, y);
          musicCtx.stroke();
        });
        musicNodes.forEach(node => {
          if (musicFrame < node.delay) return;
          if (node.r < node.maxR) node.r += node.growth;
          musicCtx.beginPath();
          musicCtx.arc(node.x, node.y, node.r, 0, Math.PI * 2);
          musicCtx.fill();
        });
        musicFrame++;
        if (musicFrame < 300) {
          requestAnimationFrame(drawMusic);
        } else {
          resetMusicDemo();
          requestAnimationFrame(drawMusic);
        }
      }

      resetMusicDemo();
      drawMusic();

      const btn = document.getElementById("start-button");
      btn.addEventListener("mouseenter", () => btn.textContent = "Let's go...");
      btn.addEventListener("mouseleave", () => btn.textContent = "Începe explorarea");

      const createdBy = document.getElementById("created-by");
      createdBy.addEventListener("click", () => {
        window.open("https://www.instagram.com/djgrewu?igsh=bXFiYmdwZ21pbGlh&utm_source=qr", "_blank");
      });
    };
  </script>
</head>

<body>
  <div id="hero-text">START EXPLORING YOUR WAY</div>
  <canvas id="music-demo-canvas" width="320" height="160"></canvas>
  <div id="movie-demo-container">
    <div id="movie-demo">
      </div>
  </div>

  <img src="logo.png" alt="Blacklist Logo" />

  <div class="hub-buttons-container">
    <a href="map.html" class="hub-button">MUSIC HUB</a>
    <a href="#" class="hub-button">MOVIE HUB</a>
  </div>

  <div id="created-by">created by dj grewu</div>
</body>

</html>
